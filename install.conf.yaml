- defaults:
    link:
      create: true
      relink: true

- clean:
    ~/:
      force: true
    ~/.config:
      force: true
      recursive: true

- create:
    - ~/sources
    - ~/temp

- create:
    ~/.ssh:
      mode: 0700

- link:
    ${HOME}/.zshenv:
    ${HOME}/.gitconfig: config/git/gitconfig
    ${HOME}/.tool-versions: config/asdf/tool-versions

- link:
    ${ZDOTDIR}/.zshrc: config/zsh/zshrc
    ${ZDOTDIR}/.zsh_plugins.txt: config/zsh/zsh_plugins.txt
    ${ZDOTDIR}:
      glob: true
      path: config/zsh/*.d
    
- link:
    ${XDG_CONFIG_HOME}/asdf/.asdfrc: config/asdf/asdfrc
    ${XDG_CONFIG_HOME}/functions:
      glob: true
      path: config/functions/*
    ${XDG_CONFIG_HOME}/git:
      glob: true
      path: config/git/*
    ${XDG_CONFIG_HOME}/starship:
      glob: true
      path: config/starship/*

- defaults:
    shell:
      stdin: true
      stdout: true
      stderr: true

- git:
    "~/.asdf":
      url: https://github.com/asdf-vm/asdf.git
      branch: v0.14.0
      description: asdf-vm
      method: clone

- git:
    "~/.config/zsh/.antidote":
      url: https://github.com/mattmc3/antidote.git
      method: clone

- asdf:
    - asdf_path: "${ASDF_DIR}/asdf.sh"
    - plugin: starship
    - plugin: fzf
    - plugin: eza
    - plugin: bat
    - plugin: direnv
    - plugin: delta

- shell:
    - ${ASDF_DIR:-${HOME}.asdf}/bin/asdf install
